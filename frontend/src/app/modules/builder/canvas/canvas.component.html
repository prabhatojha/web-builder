<div class="tool-bar">
  <app-toolbar [options]="toolbarOptions" [selectedNode]="selectedNode" [selectedCanvasElement]="selectedCanvasElement"
    (duplicateSelectedItem)="onDuplicateSelectedItem()" (removeSelectedItem)="onItemRemove()">
  </app-toolbar>
</div>

<div class="canvas-container" #canvasContainer>
  <div class="canvas-wrapper position-relative">
    <div style="width: 100%; height: 50px;"></div>
    <div class="canvas" #canvas (drop)="drop($event)" (dragover)="allowDrop($event)" (click)="onCanvasClick($event)">

    </div>
    <div style="width: 100%; height: 50px;"></div>
    <app-select-element *ngIf="selectedNode" [selectedNode]="selectedNode"
      [selectedCanvasElement]="selectedCanvasElement" [container]="canvas">
    </app-select-element>
    <!-- <ngx-selecto [container]="body" [dragContainer]="canvasContainer" [selectableTargets]='projectNode.childNodes'
      [selectByClick]="true" [selectFromInside]="false" [continueSelect]="false" [toggleContinueSelect]="'shift'"
      [keyContainer]="canvas" [hitRate]="100" (dragStart)="onDragStart($event)" (selectStart)="onSelectStart($event)"
      (select)="onSelect($event)" (selectEnd)="onSelectEnd($event)"></ngx-selecto> -->
    <!-- <app-drag-element></app-drag-element> -->
  </div>

  <ngx-element-selector [targetElements]="projectNode.childNodes" [container]="canvasContainer"
    (onSelectStart)="onSelectionStart($event)" (onSelect)="onSelection($event)" (onSelectEnd)="onSelectionEnd($event)">
  </ngx-element-selector>
</div>

<app-popup *ngIf="showPreview">
  <app-canvas-preview [canvasElement]="project?.canvasElement" (closePreview)="showPreview = false">
  </app-canvas-preview>

</app-popup>

<app-canvas-scale [node]="canvas" *ngIf="!showPreview"></app-canvas-scale>
