<div class="toolbar-items">
  <ng-container *ngFor="let filter of filterConfig">
    <div class="ml-2">
      <ng-container [ngSwitch]="filter.id">

        <!-- Single Select Filter - Font Family-->
        <ng-container *ngSwitchCase="AVA_TOOLBAR_OPTIONS.FONT_FAMILY">
          <app-font-family [selectedFont]="filter.selectedValue" (fontHover)="onFontFamilySelect(filter, $event, false)"
            (fontSelect)="onFontFamilySelect(filter, $event, true)" (revertFontSelect)="onCloseWithoutSelect(filter)"
            [disabled]="selectedItem?.locked">
          </app-font-family>
        </ng-container>

        <!-- Single Select Filter - Font Size-->
        <ng-container *ngSwitchCase="AVA_TOOLBAR_OPTIONS.FONT_SIZE">
          <app-single-select #singleSelect (itemSelect)="onFontSizeSelect(filter, $event, true)" [list]="filter.options"
            (itemHover)="onFontSizeSelect(filter, $event, false)" [changeFontFamily]="filter.changeFontFamily"
            (closeWithoutSelect)="onCloseWithoutSelect(filter)" [disabled]="selectedItem?.locked">
            <input #fontSizeInput [attr.type]="filter.inputType" placeholder="{{filter.placeholder}}"
              class="toolbar-input" [value]="filter.selectedValue" (keyup)="setFontSize(filter, fontSizeInput.value)"
              (mouseup)="setFontSize(filter, fontSizeInput.value)" (keydown.enter)="singleSelect.closeDropdown()"
              [disabled]="selectedItem?.locked">
          </app-single-select>
        </ng-container>

        <!-- Font Weigth Bold -->
        <ng-container *ngSwitchCase="AVA_TOOLBAR_OPTIONS.FONT_WEIGHT_BOLD">
          <button mat-icon-button (click)="onBoldClick(filter)" matTooltip="Text Bold" matTooltipPosition="above"
            [disabled]="selectedItem?.locked">
            <i class="material-icons">format_bold</i>
          </button>
        </ng-container>

        <!-- Font Style Italic -->
        <ng-container *ngSwitchCase="AVA_TOOLBAR_OPTIONS.FONT_STYLE_ITALIC">
          <button mat-icon-button (click)="onItalicClick(filter)" matTooltip="Text Italic" matTooltipPosition="above"
            [disabled]="selectedItem?.locked">
            <i class="material-icons">format_italic</i>
          </button>
        </ng-container>

        <!-- Delete Item -->
        <ng-container *ngSwitchCase="AVA_TOOLBAR_OPTIONS.DELETE">
          <button mat-icon-button (click)="removeItem()" matTooltip="Delete Element" matTooltipPosition="above"
            [disabled]="selectedItem?.locked">
            <i class="material-icons">delete</i>
          </button>
        </ng-container>


        <!-- Background color -->
        <ng-container *ngSwitchCase="AVA_TOOLBAR_OPTIONS.BACKGROUND_COLOR">
          <div class="position-relative">
            <app-color-picker #backgroundPicker (colorHover)="onColorHover(filter, $event)"
              (colorSelect)="onColorSelect(filter, $event)">
              <div class="toolbar-bg-color" (click)="backgroundPicker.open()" matTooltip="Background Color"
                matTooltipPosition="above">
              </div>
            </app-color-picker>
          </div>
        </ng-container>

        <!-- Background color -->
        <ng-container *ngSwitchCase="AVA_TOOLBAR_OPTIONS.COLOR">
          <div class="position-relative">
            <app-color-picker #backgroundPicker (colorHover)="onColorHover(filter, $event)"
              (colorSelect)="onColorSelect(filter, $event)">
              <div class="toolbar-text-color" (click)="backgroundPicker.open()" matTooltip="Text Color"
                [class.disabled]="selectedItem?.locked" matTooltipPosition="above">
                A
                <div>

                </div>
              </div>
            </app-color-picker>
          </div>
        </ng-container>

        <!-- Delete Item -->
        <ng-container *ngSwitchCase="AVA_TOOLBAR_OPTIONS.TEXT_ALIGNMENT">
          <div class="position-relative" (mouseleave)="filter.open = false">
            <button mat-icon-button matTooltip="Unlock Element" matTooltipPosition="above"
              [disabled]="selectedItem?.locked" (mouseenter)="filter.open = true">
              <i class="material-icons">subject</i>
            </button>
            <app-text-alignment (selction)="onCssChange(filter, $event)" *ngIf="filter.open">

            </app-text-alignment>
          </div>
        </ng-container>

        <!-- Lock provider -->
        <ng-container *ngSwitchCase="AVA_TOOLBAR_OPTIONS.LOCK">
          <button mat-icon-button (click)="lockItem()"
            [matTooltip]="selectedItem?.locked ? 'Unlock Eelement': 'Lock Element'" matTooltipPosition="above">
            <i class="material-icons" *ngIf="selectedItem?.locked">lock</i>
            <i class="material-icons" *ngIf="!selectedItem?.locked">lock_open</i>
          </button>
        </ng-container>

        <!-- Delete Item -->
        <ng-container *ngSwitchCase="AVA_TOOLBAR_OPTIONS.OPACITY">
          <div class="position-relative" (mouseleave)="filter.open = false">
            <button mat-icon-button matTooltip="Change Opacity" matTooltipPosition="above"
              [disabled]="selectedItem?.locked" (mouseenter)="filter.open = true">
              <i class="material-icons">opacity</i>
            </button>
            <app-slider (slideChange)="updateOpacity(filter, $event)" (slideStop)="updateOpacityOnStop(filter,$event)"
              [selectedOpacity]="styles[filter.cssField]" *ngIf="filter.open">
            </app-slider>
          </div>
        </ng-container>

        <!-- Undo Redo -->
        <ng-container *ngSwitchCase="AVA_TOOLBAR_OPTIONS.UNDO_REDO">
          <button mat-icon-button (click)="undoItem()" matTooltip='Undo' matTooltipPosition="above">
            <i class="material-icons">undo</i>
          </button>

          <button mat-icon-button (click)="redoItem()" matTooltip="Redo" matTooltipPosition="above">
            <i class="material-icons">redo</i>
          </button>
        </ng-container>

      </ng-container>
    </div>
  </ng-container>
</div>
